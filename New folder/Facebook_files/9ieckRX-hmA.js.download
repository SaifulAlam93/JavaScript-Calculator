if (self.CavalryLogger) { CavalryLogger.start_js(["SaJLT"]); }

__d("CometRouterDispatcherContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext();e.exports=a}),null);
__d("useCometRouterDispatcher",["CometRouterDispatcherContext","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useContext;function a(){return g(b("CometRouterDispatcherContext"))}e.exports=a}),null);
__d("CometTrackingCodeContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext({click_tracking_linkshim_cb:[],encrypted_click_tracking:[],encrypted_tracking:[]});e.exports=a}),null);
__d("CometTrackingNodesContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext([]);e.exports=a}),null);
__d("BaseButton.flare.react",["PressableText.react","React","useFeedPressEventHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("React").createContext;var g=b("React").useCallback,h=b("React").useContext,i=c(!1);function a(a,c){__p&&__p();var d=a["aria-activedescendant"],e=a["aria-checked"],f=a["aria-controls"],j=a["aria-describedby"],k=a["aria-expanded"],l=a["aria-haspopup"],m=a["aria-hidden"],n=a["aria-invalid"],o=a["aria-label"],p=a["aria-labelledby"],q=a.children,r=a.className_DEPRECATED,s=a.disabled;s=s===void 0?!1:s;var t=a.focusable,u=a.id,v=a.label,w=a.onBlur,x=a.onClick,y=a.onContextMenu,z=a.onFocus,A=a.onFocusChange,B=a.onFocusVisibleChange,C=a.onHoverChange,D=a.onMouseDown,E=a.onMouseOut,F=a.onMouseOver,G=a.onPressChange,H=a.onPressOut,I=a.role,J=a.preventContextMenu,K=a.stopPropagation,L=a.style,M=a.testid,N=a.testOnly_pressed;N=N===void 0?!1:N;a=a.xstyle;var O=h(i),P=g(function(a){a=a.children;return b("React").createElement(i.Provider,{value:!0},a)},[]);I=I==="menuitem"||I==="none"||I==="presentation"||I==="switch"?I:"button";x=x;D=D;H=H;w=w;z=z;F=F;E=E;y=y;x=b("useFeedPressEventHandler")(x);y=b("useFeedPressEventHandler")(y);o=b("React").createElement(b("PressableText.react"),{accessibilityLabel:(o=o)!=null?o:v,accessibilityRelationship:{activedescendant:d,controls:f,describedby:j,haspopup:l,labelledby:p},accessibilityRole:I,accessibilityState:{checked:e,disabled:s,expanded:k,hidden:m,invalid:n},className_DEPRECATED:r,direction:"none",disabled:s,focusable:t,forwardedRef:c,nativeID:u,onBlur:w,onContextMenu:y,onFocus:z,onFocusChange:A,onFocusVisibleChange:B,onHoverChange:C,onHoverEnd:E,onHoverStart:F,onPress:x,onPressChange:G,onPressEnd:H,onPressStart:D,preventContextMenu:J,stopPropagation:K,style:L,testID:M,testOnly_state:{disabled:!1,focusVisible:!1,focused:!1,hovered:!1,longPressed:!1,pressed:N},xstyle:a},b("React").createElement(P,null,q));return O?b("React").createElement("object",{type:"nested/pressable"},o):o}e.exports=b("React").forwardRef(a)}),null);
__d("CometAssetCacheLogger",["CometInteractionTracingMetrics","performance","requireCond","cr:683059"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){var b=a.indexOf("?");return b===-1?a:a.substring(0,b)}function h(a,b){b=b.substring(b.lastIndexOf(".")+1);if(b==="js"||b==="css")return b;else if(a==="img"||b==="gif"||b==="png"||b==="jpg"||b==="ico")return"img";else return a}function i(){return{css:{cacheCount:0,encodedBodySize:0,totalCount:0,transferSize:0},img:{cacheCount:0,encodedBodySize:0,totalCount:0,transferSize:0},js:{cacheCount:0,encodedBodySize:0,totalCount:0,transferSize:0}}}a=function(a){__p&&__p();if(typeof b("performance").getEntriesByType!=="function"||a.completed==null)return;var c=a.start,d=a.completed,e=i(),f=b("performance").getEntriesByType("resource").filter(function(a){return a.startTime>=c&&a.startTime<=d}).map(function(a){return{encodedBodySize:a.encodedBodySize,transferSize:a.transferSize,type:h(a.initiatorType,g(a.name))}}).filter(function(a){return e[a.type]});f.forEach(function(a){var b=e[a.type];b.encodedBodySize+=a.encodedBodySize;b.transferSize+=a.transferSize;b.totalCount++;a.transferSize===0&&b.cacheCount++});for(var j in e){f=e[j];for(var k in f){var l=j+"_"+k;b("CometInteractionTracingMetrics").addMetadata(a.traceId,l,f[k]);b("cr:683059")&&b("cr:683059").addAnnotation(l,f[k])}}};e.exports=a}),null);
__d("CometStartupQuickLogModule",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INITIAL_LOAD:29818881,INITIAL_LOAD_SERVER:29818883,NAVIGATION:29818882,TAIL_LOAD:29818884})}),null);
__d("CometPerfLogger",["CometStartupQuickLogModule","QuickPerformanceLogger","VisibilityListener","performanceNavigationStart"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("performanceNavigationStart")(),h=10;function i(a,c,d){d===void 0&&(d=0),b("QuickPerformanceLogger").annotateMarkerInt(a,"numReactCommit",c.size,d)}function j(a,c,d){d===void 0&&(d=0);for(var e in c){var f=c[e];Array.isArray(f)?typeof f[0]==="string"?b("QuickPerformanceLogger").annotateMarkerStringArray(a,e,f,d):typeof f[0]==="number"&&b("QuickPerformanceLogger").annotateMarkerIntArray(a,e,f,d):typeof f==="string"?b("QuickPerformanceLogger").annotateMarkerString(a,e,f,d):typeof f==="number"&&b("QuickPerformanceLogger").annotateMarkerInt(a,e,f,d)}}function k(a,c,d){d===void 0&&(d=0);for(var e in c){var f=c[e],h=f.timestamp;f=f.data;b("QuickPerformanceLogger").markerPoint(a,e,f&&Object.keys(f).length?JSON.stringify(f):null,d,h+g)}}function l(a,c,d){d===void 0&&(d=0);for(var e in c)for(var f=0;f<c[e].length;f++){var i=c[e][f],j=i.start,k=i.end;i=i.data;var l=c[e].length===1?e:e+"_"+(f>=h?"MAX":f+1);b("QuickPerformanceLogger").markerPoint(a,l+"_start",null,d,j+g);b("QuickPerformanceLogger").markerPoint(a,l+"_end",Object.keys(i).length?JSON.stringify(i):null,d,k+g)}}a={initQPL:function(a,c,d){b("QuickPerformanceLogger").markerStart(a,d,c+g)},logQPL:function(a,c,d){i(a,c.commitSet,d);j(a,c.metadata,d);k(a,c.markerPoints,d);l(a,c.subSpans,d);var e=b("VisibilityListener").getHiddenTime(c.start+g,c.completed+g);e=e!=null&&e>0?1:0;b("QuickPerformanceLogger").annotateMarkerInt(a,"hidden",e,d);b("QuickPerformanceLogger").markerEnd(a,"SUCCESS",d,c.completed+g)},logServerTimings:function(a,c){__p&&__p();var d=typeof window.qpl_inl==="function"?window.qpl_inl():{};d=d[a+"-server"];if(d){b("QuickPerformanceLogger").markerStartFromNavStart(b("CometStartupQuickLogModule").INITIAL_LOAD_SERVER);j(b("CometStartupQuickLogModule").INITIAL_LOAD_SERVER,c.metadata);a=0;for(var e in d)a=Math.max(a,d[e]),b("QuickPerformanceLogger").markerPoint(b("CometStartupQuickLogModule").INITIAL_LOAD_SERVER,e,null,0,d[e]+g);b("QuickPerformanceLogger").markerEnd(b("CometStartupQuickLogModule").INITIAL_LOAD_SERVER,"SUCCESS",0,a+g)}}};e.exports=a}),null);
__d("JSTraceListener",["CometInteractionTracingMetrics","ErrorGuard","removeFromArray"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=!1;function h(){if(g)return;g=!0;b("CometInteractionTracingMetrics").listen(k)}var i={};function j(a,c){g||h();Object.prototype.hasOwnProperty.call(i,a)||(i[a]=[]);i[a].push(c);return function(){i[a]&&(b("removeFromArray")(i[a],c),i[a].length||delete i[a])}}function k(a){if(Object.prototype.hasOwnProperty.call(i,a.name)){var c=a.name;c=i[c];c.length&&c.slice().forEach(function(c){b("ErrorGuard").applyWithGuard(c,null,[a],{name:"JSTraceListener"})})}}function a(a){__p&&__p();var c={onComplete:function(d){var e=b("CometInteractionTracingMetrics").get(a);if(e&&e.completed!=null){d(e.completed,e);return c}var f=j(a,function(a){a.__type==="complete"&&(d(a.timestamp,a.interaction),f())});return c}};return c}e.exports=a}),null);
__d("CometInteractionTracing",["CometAssetCacheLogger","CometInteractionTracingMetrics","CometPerfLogger","JSTraceListener","JSTracing","VisibilityListener","gkx","performanceNow","performanceNavigationStart","requireCond","uuid","cr:942783"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("performanceNavigationStart")(),h="comet.app",i=1,j=null;if(b("gkx")("926112")&&window.location.href.contains("browserLabTag=")){a=new URLSearchParams(window.location.search);j=a.get("browserLabTag")}function k(a,c,d){__p&&__p();var e=c+g,f=d+g;c=b("VisibilityListener").getHiddenTimings(e,f);if(c!=null&&c.length>0){var h=[],i=null;c.filter(function(a){return a.key>=e&&a.key<=f}).forEach(function(a){a.value&&i==null?i=a.key:!a.value&&i!=null&&(h.push({end:a.key-g,start:i-g}),i=null)});i!=null&&h.push({end:d,start:i-g});b("CometInteractionTracingMetrics").addHiddenTiming(a,h)}}function l(a,c){c.interactionClass&&a.addMetadata("interactionClass",c.interactionClass),c.otherInteractionTypes&&c.otherInteractionTypes.size&&a.addMetadata("otherInteractionTypes",Array.from(c.otherInteractionTypes)),j!=null&&j!==""&&a.addMetadata("browserLabTag",j),b("CometAssetCacheLogger")(c),c.completed!=null&&k(c.traceId,c.start,c.completed)}c={browserLabTag:j,trace:function(a){function b(b,c,d,e,f){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(a,c,d,e,f,g){__p&&__p();g===void 0&&(g=b("performanceNow")());var j=b("uuid")(),k=i++,m=f,n=!1;m!=null&&b("cr:942783")&&(n=b("cr:942783").maybeStartTraceForInteraction(j,d,a,m,g));b("CometPerfLogger").initQPL(a,g,k);var o=[],p={addMarkerPoint:function(a,c,d){d===void 0&&(d=b("performanceNow")()),b("CometInteractionTracingMetrics").addMarkerPoint(j,a,c,d)},addMetadata:function(a,c){b("CometInteractionTracingMetrics").addMetadata(j,a,c)},getTraceId:function(){return j},onComplete:function(a){o.push(a)},setTracePolicy:function(c){m=c,b("cr:942783")&&!n&&(n=b("cr:942783").maybeStartTraceForInteraction(j,d,a,m,g))}};b("JSTraceListener")(j).onComplete(function(c,d){if(d==null)return;p.addMetadata("tracePolicy",(c=m)!=null?c:h);l(p,d);o.forEach(function(a){a(d)});b("CometPerfLogger").logQPL(a,d,k);b("cr:942783")&&n&&b("cr:942783").endTraceForInteraction(j,d.metadata)});b("JSTracing").trace(j,function(){c(p)},g);b("CometInteractionTracingMetrics").setInteractionType(j,d,e)})};e.exports=c}),null);
__d("CometVisualCompletionUtil",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={filter:function(a){a=a;while(a){if(a.getAttribute("data-novc"))return!1;a=a.parentElement}return!0},getPixels:function(a){return(a.right-a.left)*(a.bottom-a.top)},getRectIntersection:function(a,b){return{bottom:Math.max(Math.min(a.bottom,b.bottom),b.top),left:Math.min(Math.max(a.left,b.left),b.right),right:Math.max(Math.min(a.right,b.right),b.left),top:Math.min(Math.max(a.top,b.top),b.bottom)}},getRectangle:function(a,b){a=a.getBoundingClientRect();var c=a.top,d=a.left,e=a.bottom;a=a.right;e={bottom:e,left:d,right:a,top:c};return g.getRectIntersection(e,b)},getViewportSize:function(){return{height:window.innerHeight,width:window.innerWidth}},isVisible:function(a){a=a;if(typeof a.getBoundingClientRect!=="function")return!1;var b=g.getViewportSize();a=g.getPixels(g.getRectangle(a,{bottom:b.height,left:0,right:b.width,top:0}));return a>0},trimHash:function(a){return a!=null&&a!==""?a.split("#")[0]:null}};e.exports=g}),null);
__d("CometVisualChangeObserver",["CometVisualCompletion","CometVisualCompletionUtil","JSScheduler","MutationObserver","gkx","performance"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map(),h=1,i={attributes:!0,characterData:!0,childList:!0,subtree:!0};function j(a){a=b("performance").getEntriesByName(a);return a.length>0&&a[0].responseEnd}function k(a){__p&&__p();if(a!=null&&b("CometVisualCompletionUtil").isVisible(a)){if(b("gkx")("866850")&&!b("CometVisualCompletionUtil").filter(a))return;b("CometVisualCompletion").addVisualElement(a);if(typeof b("performance").getEntriesByName==="function"){a=a.querySelectorAll("img");Array.prototype.forEach.call(a,function(a){__p&&__p();if(a.src==null||a.src===""||a.src.indexOf("http")!==0)return;var c=a.src,d;c.indexOf("#")>=0&&(d=b("CometVisualCompletionUtil").trimHash(c));if(!j(c)&&(d==null||!j(d))){var e=new Image();e.onload=e.onerror=function(){b("CometVisualCompletion").imageDone(c),e=null};b("CometVisualCompletion").imageWait(c);e.src=a.src}})}}}var l=new(b("MutationObserver"))(function(a){b("JSScheduler").scheduleNormalPriCallback(function(){Array.prototype.forEach.call(a,function(a){a.type==="childList"&&a.addedNodes&&a.addedNodes.length?Array.prototype.forEach.call(a.addedNodes,k):a.type==="attributes"&&a.attributeName==="style"&&k(a.target)})})});a={observe:function(a,b){b===void 0&&(b=!1);var c=h++;g.set(c,a);b||k(a);l.observe(a,i);return function(){g["delete"](c)}},start:function(){g.forEach(function(a){l.observe(a,i)})},stop:function(){l.disconnect()}};e.exports=a}),null);
__d("CometVisualCompletionInst",["CometVisualCompletionUtil","VisibilityListener","gkx","performance","performanceAbsoluteNow","performanceNavigationStart"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=/url\(.*(http.*)\)/gi;function h(a){__p&&__p();var c=b("VisibilityListener").getHiddenTime(a.startTime,a.startTime+a.visuallyComplete);a.annotations.set("hidden",c!=null&&c>0?1:0);a.tracePolicy!=null&&a.tracePolicy!==""&&a.annotations.set("tracePolicy",a.tracePolicy);a.annotations.set("height",a.viewport.height);a.annotations.set("width",a.viewport.width);a.annotations.set("scrollY",a.scrollY);a.annotations.set("overhead",a.calcLatency);a.annotations.set("navSequence",a.navSequence);a.paintedPixels>0&&a.navPaintedPixels>0&&a.annotations.set("navPaintedArea",a.navPaintedPixels/a.paintedPixels*100);a.markerPoints.set("speedIndex",a.speedIndex);a.navSequence===1&&b("performance")&&b("performance").timing&&(b("performance").timing.responseStart&&a.markerPoints.set("TTFB",b("performance").timing.responseStart-a.startTime),b("performance").timing.fetchStart&&a.markerPoints.set("fetchStart",b("performance").timing.fetchStart-a.startTime));a.elements.length&&(a.markerPoints.set("FP",a.elements[a.elements.length-1].latency),a.vcWithoutImage>0&&a.markerPoints.set("vcWithoutImage",a.vcWithoutImage))}a=function(){__p&&__p();function a(a,c){this.$8=0,this.$9=0,this.$10=0,this.$11=0,this.$5=new Map(),this.$3=new Map(),this.$1=[],this.$2=[],this.$7=0,this.$12=a,this.$4=c,this.$6=b("CometVisualCompletionUtil").getViewportSize()}var c=a.prototype;c.calculate=function(a,c,d,e,f,g){__p&&__p();var i=this;if(!this.$12.length)return null;var j=b("performanceAbsoluteNow")();this.$7=0;this.$9=0;this.$11=0;this.setResourceTimingMap();this.initTree();this.getImages();b("gkx")("679542")&&this.getBackgroundImages();this.$8=this.calculatePaintedPixels(this.$1,this.$6.width*this.$6.height);var k={annotations:g,bgCheckLatency:this.$11,bgChecked:this.$7,bgNum:0,bgPixels:0,calcLatency:0,compNum:0,compPixels:0,elements:this.$2,imgNum:0,imgPixels:0,markerPoints:f,navComplete:a,navPaintedPixels:this.$10,navSequence:c,paintedPixels:this.$9,scrollY:window.scrollY,speedIndex:0,startTime:this.$4,totalPixels:this.$8,traceId:e,tracePolicy:d,vcWithoutImage:0,viewport:this.$6,visuallyComplete:0};this.$2.length&&(this.$2=this.$2.sort(function(a,b){return b.latency-a.latency}),k.visuallyComplete=this.$2[0].latency,this.$2.forEach(function(a){__p&&__p();k.vcWithoutImage===0&&a.type==="component"&&(k.vcWithoutImage=a.latency);k.speedIndex+=a.pixels/i.$9*a.latency;switch(a.type){case"component":k.compNum++;k.compPixels+=a.pixels;break;case"img":k.imgNum++;k.imgPixels+=a.pixels;break;case"bg":k.bgNum++;k.bgPixels+=a.pixels;break}}));k.calcLatency=b("performanceAbsoluteNow")()-j;h(k);return k};c.findParent=function(a){a=a.parentElement;while(a){var b=a.getAttribute("data-veid");if(b!=null&&b!==""&&this.$3.has(b))return this.$3.get(b);a=a.parentElement}return null};c.getBackgroundImages=function(){__p&&__p();var c=this,d=b("performanceAbsoluteNow")();this.$1.forEach(function(d){__p&&__p();d=d.element.querySelectorAll(":not(img)");Array.prototype.forEach.call(d,function(d){__p&&__p();if(b("gkx")("866850")&&!b("CometVisualCompletionUtil").filter(d))return;var e=c.findParent(d);if(!e)return;var f=b("CometVisualCompletionUtil").getRectangle(d,e.rectangle),g=b("CometVisualCompletionUtil").getPixels(f);if(!g)return;var h=b("CometVisualCompletionUtil").trimHash(c.getStyleBackground(d));if(h!=null&&h!==""&&c.$5.has(h)){d={baseRender:e.baseRender,children:[],element:d,latency:c.$5.get(h)+b("performanceNavigationStart")()-c.$4,parent:e,pixels:g,rectangle:f,timestamp:c.$5.get(h)+b("performanceNavigationStart")(),type:"bg",url:h,veid:String(a.$13++)};e.children.push(d)}})});this.$11=b("performanceAbsoluteNow")()-d};c.getImages=function(){__p&&__p();var c=this,d=document.querySelectorAll("img");Array.prototype.forEach.call(d,function(d){__p&&__p();if(typeof d.currentSrc!=="string"||d.currentSrc==="")return;if(b("gkx")("866850")&&!b("CometVisualCompletionUtil").filter(d))return;var e=c.findParent(d);if(!e)return;var f=b("CometVisualCompletionUtil").getRectangle(d,e.rectangle);if(d.parentElement){var g=b("CometVisualCompletionUtil").getRectangle(d.parentElement,e.rectangle);f=b("CometVisualCompletionUtil").getRectIntersection(f,g)}g=b("CometVisualCompletionUtil").getPixels(f);if(!g)return;var h=d.currentSrc;h=b("CometVisualCompletionUtil").trimHash(h);if(h!=null&&h!==""&&c.$5.has(h)){d={baseRender:e.baseRender,children:[],element:d,latency:c.$5.get(h)+b("performanceNavigationStart")()-c.$4,parent:e,pixels:g,rectangle:f,timestamp:c.$5.get(h)+b("performanceNavigationStart")(),type:"img",url:h,veid:String(a.$13++)};e.children.push(d)}})};c.getStyleBackground=function(a){__p&&__p();if(typeof window.getComputedStyle!=="function")return null;this.$7++;a=window.getComputedStyle(a);var b=a["background-image"];if(a.visibility!=="hidden"&&b&&b!=="none"){g.lastIndex=0;a=g.exec(b);if(a&&a.length>1)return a[1].replace('"',"")}return null};c.initTree=function(){__p&&__p();var c=this,d={bottom:this.$6.height,left:0,right:this.$6.width,top:0};this.$12.forEach(function(e){var f=e[0],g=e[1];e=e[2];var h=b("CometVisualCompletionUtil").getRectangle(f,d);if(b("CometVisualCompletionUtil").isVisible(f)){e={baseRender:e,children:[],element:f,latency:g-c.$4,parent:null,pixels:b("CometVisualCompletionUtil").getPixels(h),rectangle:h,timestamp:g,type:"component",veid:String(a.$13++)};f.setAttribute("data-veid",e.veid);c.$3.set(e.veid,e)}});this.$3.forEach(function(a){var d=c.findParent(a.element);d?(a.rectangle=b("CometVisualCompletionUtil").getRectIntersection(a.rectangle,d.rectangle),a.pixels=b("CometVisualCompletionUtil").getPixels(a.rectangle),d.children.push(a),a.parent=d):c.$1.push(a)})};c.setResourceTimingMap=function(){var a=this;if(typeof b("performance").getEntriesByType==="function"){var c=b("performance").getEntriesByType("resource");c.forEach(function(c){var d=b("CometVisualCompletionUtil").trimHash(c.name);d!=null&&d!==""&&a.$5.set(d,c.responseEnd)})}};c.calculatePaintedPixels=function(a,b){var c=this,d=b,e=0;a.sort(function(a,b){return b.timestamp-a.timestamp}).forEach(function(a){a.pixels=Math.min(d,a.pixels),e+=a.pixels,d-=a.pixels,a.pixels-=c.calculatePaintedPixels(a.children,a.pixels),a.timestamp>c.$4&&(a.type!=="component"&&a.parent&&a.parent.timestamp>a.timestamp&&(a.latency=a.parent.latency),c.$9+=a.pixels,a.baseRender&&(c.$10+=a.pixels),c.$2.push(a))});return e};return a}();a.$13=1;e.exports=a}),null);
__d("CometVisualCompletionQuickLogModule",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BLUE_SPEED_INDEX_WWW:27983876,BLUE_VISUALLY_COMPLETE_WWW:27983875,COMET_SPEED_INDEX_WWW:27983874,COMET_VISUALLY_COMPLETE_WWW:27983873})}),null);
__d("CometVisualCompletionQPL",["CometVisualCompletionQuickLogModule","QuickPerformanceLogger","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){b("QuickPerformanceLogger").markerStart(b("CometVisualCompletionQuickLogModule").COMET_VISUALLY_COMPLETE_WWW,0,a.startTime),a.markerPoints.forEach(function(c,d){b("QuickPerformanceLogger").markerPoint(b("CometVisualCompletionQuickLogModule").COMET_VISUALLY_COMPLETE_WWW,d,null,0,c+a.startTime)}),a.annotations.forEach(function(a,c){typeof a==="number"?b("QuickPerformanceLogger").annotateMarkerInt(b("CometVisualCompletionQuickLogModule").COMET_VISUALLY_COMPLETE_WWW,c,a,0):b("QuickPerformanceLogger").annotateMarkerString(b("CometVisualCompletionQuickLogModule").COMET_VISUALLY_COMPLETE_WWW,c,a,0)}),b("QuickPerformanceLogger").annotateMarkerString(b("CometVisualCompletionQuickLogModule").COMET_VISUALLY_COMPLETE_WWW,"rendering_strategy_selection_implementation",b("gkx")("940313")?"parallel":"serial"),b("QuickPerformanceLogger").markerEnd(b("CometVisualCompletionQuickLogModule").COMET_VISUALLY_COMPLETE_WWW,"SUCCESS",0,a.visuallyComplete+a.startTime)}a={log:function(a){if(!a||a.tracePolicy==null||a.tracePolicy===""||a.visuallyComplete===0)return;g(a)}};e.exports=a}),null);
__d("setTimeoutCometInternals",["JSScheduler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map(),h=0;a={clearTimeout_DO_NOT_USE:function(a){if(a!==void 0||a!==null){var c=g.get(a);c!==void 0&&(g["delete"](a),b("JSScheduler").cancelDelayedCallback_DO_NOT_USE(c))}},setTimeoutAtPriority_DO_NOT_USE:function(a,c,d){for(var e=arguments.length,f=new Array(e>3?e-3:0),i=3;i<e;i++)f[i-3]=arguments[i];var j=h;h+=1;var k=b("JSScheduler").scheduleDelayedCallback_DO_NOT_USE(a,d,function(){g["delete"](j),c.apply(void 0,f)});g.set(j,k);return j}};e.exports=a}),null);
__d("setTimeoutCometLoggingPri",["JSScheduler","setTimeoutCometInternals"],(function(a,b,c,d,e,f){"use strict";function a(a,c){for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return b("setTimeoutCometInternals").setTimeoutAtPriority_DO_NOT_USE.apply(b("setTimeoutCometInternals"),[b("JSScheduler").priorities.unstable_Low,a,c].concat(e))}e.exports=a}),null);
__d("CometVisualCompletion",["CometInteractionTracing","CometVisualChangeObserver","CometVisualCompletionInst","CometVisualCompletionQPL","CometVisualCompletionUtil","IntersectionObserver","JSTraceListener","intersectionObserverEntryIsIntersecting","performanceAbsoluteNow","performanceNavigationStart","performanceNow","setTimeoutCometLoggingPri"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[],h=b("performanceNavigationStart")(),i=b("performanceNavigationStart")(),j=0,k=!1,l,m,n=new Set(),o=new Set(),p=new Map(),q=new Map(),r=500,s,t=[];function u(){t.forEach(function(a){a(s)}),w.logQPL()}function v(){if(s||n.size>0||o.size>0)return;var a=new(b("CometVisualCompletionInst"))(g,i);s=a.calculate(h,j,l,m,p,q);u()}var w={addAnnotation:function(a,b){q.set(a,b)},addMarkerPoint:function(a,c){c===void 0&&(c=b("performanceNow")()),c!=null&&c>0&&p.set(a,c)},addVisualElement:function(a,c){c===void 0&&(c=b("performanceAbsoluteNow")()),a!=null&&g.push([a,c,!k])},dumpWaits:function(){return[n,o]},getAnnotation:function(a){return q.get(a)},getReport:function(){return s},holdTrigger:function(a,c){__p&&__p();n.add(a);if(c){var d=function(c,d){Array.prototype.forEach.call(c,function(c){b("intersectionObserverEntryIsIntersecting")(c)||(d.disconnect(),w.resumeTrigger(a))})},e=new(b("IntersectionObserver"))(d);e.observe(c);return function(){e.disconnect(),w.resumeTrigger(a)}}return function(){w.resumeTrigger(a)}},imageDone:function(a){if(!o.has(a))return;o["delete"](a);v()},imageWait:function(a){o.add(a)},isVisible:function(a){return b("CometVisualCompletionUtil").isVisible(a)},logQPL:function(){b("CometVisualCompletionQPL").log(s)},resumeTrigger:function(a){if(!n.has(a))return;n["delete"](a);b("setTimeoutCometLoggingPri")(function(){!s&&n.size===0&&(b("CometVisualChangeObserver").stop(),v())},r)},setRoute:function(a){l=a},subscribe:function(a){t.push(a)},traceNavigation:function(a,c){__p&&__p();c===void 0&&(c=b("performanceAbsoluteNow")());i=c;j++;s=null;n.clear();o.clear();p=new Map();q=new Map();g=[];k=!1;m=a;w.holdTrigger(a);var d=b("performanceAbsoluteNow")();b("JSTraceListener")(a).onComplete(function(e,f){f&&(k=!0,h=f.completed!=null?f.completed-f.start:b("performanceNow")()-f.start,w.addMarkerPoint("CometNavigation_start",d-c),w.addMarkerPoint("CometNavigation_end",h),b("CometInteractionTracing").browserLabTag!=null&&b("CometInteractionTracing").browserLabTag!==""&&w.addAnnotation("browserLabTag",b("CometInteractionTracing").browserLabTag),w.resumeTrigger(a))});u()},unsubscribe:function(a){t=t.filter(function(b){return b!==a})}};e.exports=w}),null);